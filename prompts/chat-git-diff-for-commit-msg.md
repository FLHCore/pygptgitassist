要讓 AI 根據 code change 理解修改的設計，推斷出新增的功能或解決的問題、影響的檔案與模組，並猜測修改的原因，最後總結出一個適合的 title，我們需要設計一個精細且結構化的 prompt。這樣的 prompt 將指導 AI 進行深度分析並生成所需的輸出。以下是一個符合這些要求的 prompt 設計：

### Prompt 設計

```
給定一段代碼變更的詳細內容(git diff --name-only && git diff)，請進行以下分析：

1. 閱讀和理解代碼變更的內容，條列修改過的檔案且修改內容以子項目條列表達。
2. 根據代碼變更，識別出是新增功能還是解決特定問題，並簡述該功能或問題。
3. 分析並列出受影響的檔案和模組，並簡要說明每個檔案或模組如何受到影響。
4. 推測出進行此次修改的原因，可能是基於性能改進、功能增強、安全性更新、錯誤修正或其他。
5. 基於上述分析，總結出一個清晰、明確的 title，概括此次代碼修改的主要目的和影響。

請仔細的分析，依據 Conventional Commits 的格式規定，給出你建議的 commit message，並且把commit message內容以純文字格式，用代碼視窗單獨輸出。

以下是代碼變更 git diff 相關資訊
---
{git-diff-with-name.log}
```

### 使用說明

1. **代碼變更的詳細內容**：在使用此 prompt 時，需要將具體的 code change 詳細信息嵌入到 prompt 中，或作為附件提供給 AI，以便 AI 可以進行分析。
2. **分析和推測**：AI 將根據提供的代碼變更詳情，進行詳細的分析和推測，確保理解修改的背景和目的。
3. **輸出格式化**：此 prompt 要求 AI 提供結構化的輸出，包括新增功能或解決問題的描述、受影響的檔案和模組列表、修改原因的推測，以及一個總結性的 title。

透過這種結構化的分析和生成過程，我們可以利用 GPT-4 的強大理解和生成能力，幫助工程師快速獲得 Pull Request 所需的精確信息，從而提高工作效率和溝通的清晰度。